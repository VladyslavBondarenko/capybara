
workflows:
  default-workflow:
    name: Default Workflow
    instance_type: mac_mini
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        APP_STORE_CONNECT_KEY_IDENTIFIER: 4X5V82JUU5
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3ZVpuRTZUaFoxTkhOeWlkcE4zVGttc3JWTUhZdGhoMEhqY1A5TnJvVkhBVUU4QjA0WnJEeV9adklreDQyS3VEbmlCRVFncF9lSE9zYkNsTVRLN3ZNZjdZNXJHa2c3RFZIeS1tNEVtVWxzVDJ5RkRWaDhpbGstdWVCbmJCX2dsNWlDdnZNZWxseDIwZXpRMjE4bnoxbUlnOFVjWjVCeU10b1R3UDUyVUZQWTBJbHp5aW5UN0xLNUxxREoxcE9Ta0dhZ3piQjVRWnFVaGtrMjBsdlR6VUQwb210QXFkNkVpSGZXa3RaVUd1cGE3TGNOVmxZTUxpdnBsY0RjbjFXM3lyV2Zkd00tbDlRXzZnWU5fMzd3UDBoek1UZ3FnYlpsZ0U0ZDRKZnhRalRwVGxUZzFNZjU5N2hqejNVTVFudEFOLUYtVlBOZ2haUjN6NHpIMkc1b3pPWWpoeTBMZTc0Z0NsNG5CUTdVdGY5UW5JZnRWc0hnR1NBeU5BcU15eC1mWWl0dFJ4TXlieXhvNi1DOGhCaElVdW9hTXQ1MmtfZEwwVXJEeDlSelpnUXFOUURCYz0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3ZlBpcU9jTDVEbk1Vc1Z1MTNzSm9CQzVhSDJHYkFNUm9rYy0wdWg3SEtoSEJiVzM2SlpLZjNqZFJrdG9WNFJTaGtCcjNCTnFOSlRnamFGV1ZtT0pra3FpUmJzZHVoaFN3NnVaTmJGcFNEbG9YajBBQzh1bF9oWHItYXBmcDliMThiUUN2SGdWUDdCN0M3QmJEZ3FyaE5wcU9admttS3oyQWVQRVdLcXFnMW02aGZ1WDBwbUF6OEFKWDBJUDRSTU1VeVNibG9IVkdHWEVZaklIcW42YlR0OW1zMVViX2dKTzhQOHZmUlhoVmJYRXVXV1p1Q1RtZzZIX0FjTGU3V1pSQzcxeENTSGp0Q3U0Y0JUU2FIdTN3Z29JYTg1eHgxSTluQzQ1V3NZQ1A4aGdGUXBpYnFmOVBSdmVCRFVFUEdkNm5nZVFpZTR1QnM3M1JkZWdsbzNmRnRSTVo0SlhlQ2phZmdYbmdzd2Jpa3FiNDdrRDIwUWtoZUF4SWpMcGZFZmJOVnoya0V2Vk1HaVA4SlNRSzVTN2ROYkptYXIwS2FCdjVXNEF4QTlHVXk0ZTNtb0VxOFlvR21CQ2QySXpkaEh6NXNnLXJVM01rMXdEeFh3OE00WmYta1ZUdXZKV3dMSEw0UDdJMzYtcUpKZ1NJdXg1NFN1X0c5ME50d1RCWnMyY2lWaXc4YU5reElydVQycnpqczhxaWZOYkp5b3pFLXY2OWY0U3VjenB5VW5nTHhVQVRwNDM1aWRtZFZ5LXNxSi02TjRab0VuRzRsWG9BUDB2Q2ZDMTByNTdSN25QRnloSy1udmFuei1mUUZnTWpMUHRTak5ndExKekNNZEwtOGFtaHR2dms4WEZBRTYtUFJEQlNRZ3UtV00ySWxpdGJmWFdiOTNBaHl2YTl2WDJHLXlJbTBEeUdxbkV0cUM3aGJnWFl4cGR6UkN3bDhCcnNpRl9NOXBoX3ZCcWluSXpLRW1PU0RqeldzRkxjLWJVTzZoZmhKWWJEdWNEc1FJR2lhNk90bTZDOWQ3YkpSaTMtV2JTY1ZaTWN1SnpZLU9LOGtmNDNvVnJscE5HeW12QnRKeFVFWGVCRGFBNFZ4NmFxd3BRMUd4ekdMTThWLTRSUWhtYU1aay00eVVuRGE4RlBUb3hZbjJqQnJwWS1XSjhoaXhTZ0NRU01yNmotd3JMaEFXS2NfdWVsOEt4UXZaZDl3ZXd0b0R5UVQ2QWxxQzBsVXBCVnFiSGFwUVdOckpRWjhyb0w5WTZhdmlYS3pOc29lbmhJeHEtLVRfY05tMDllSXRDWl9pTm9lUFVwMmRkUExpZnYzZXdmdmRwM0xCdDFtMUw5cG9IelRDRUl0QVBnbkxqRzhBTzhORF9nZmRjOERPSnRoeUUyTzFNUUNTVWZYZ2ZsMzVyLW95bmpXYVU1VW0tOFFrNmNlZmp6TWtDM2phelA0NkZzY1hNWEEwWWc1elFRVTBOcjNSTVlIVUhsaThmeW5ISTJYS1VxUi1QanFoYU10OVE2QXJ4TnZ5R3N6dXE0NTJHdTJPcFRsOXB3R3NaQnk4VW15RldjRkJXQ1o0ZTM0WXB5OW56ZUhYUzg5RVRIY2FZLVZQWjk5bW9wcWdPWG9MWE9kTk1GZjJ3dFlPTUQyZGdHajNET05YZGo2ODdoSUFnd3Y2ZzVvV0hkOEhBNkFKYm1NVWJOQTdKOVRybWlFSDZRU3B2OFZVNmVjeDB5ZDNzenVJMzR6YXk3dzRpbUFmcWdYdlpXWlI4eVBJU2dqN0dadklrVjRCeUZiZ3gtY0d2MVNOdU5JN1d1YnZ3N0tSVmhWZWNlN3F5RUV3dFktTzJHN3dEdTJ3dktZSkhVUzEzXzFkYnRjNUVheHVDbERjR2ROWE52amN3Mk9aUURqQmJQUGhTVTQyZTZ4eTZFM1QwenhkZ3ltdXM0RFM2Yl9mR3ZRVU1ZaktXY3lRNWVEUFFaanlWM3JNd0wwSTRmTGN3NEg4bVdaUGR0NUZpNEszZzJ4MmVWSDZwcXZjY3h3ZVlvTXNwOVZFNFBYZkVibzUxN0V6WFdOYzlJbllwNjFTR3FsbG1XTlpUS0JHaHhNemhBSnFHUGNnZWFsY0M1MkNSMFdZZmRBM1gxOXdLRGhaRnk0dTM1Z0pCcUwycEdxZllNRExrZ0ItQlZFME93Zm9ielFoZHhydlIxam5KbWZuVzFWaVBKSS1TNDhtdXZ3T2FTQVluR3BYLUlrMmJkNnZmaXljSVVFQUZ0YXpCSVRXQl9vN1RIZ2x1dWN0RVh6Mi1Rb3d6ZFF2cXo0UnhFaEEwQXNMV2tzLVdMSkFxbkNvQ1hLVWVVX1NxbDRYWlVPaEl0eEdaTEoyVjZ1cjFaWnpmWG9lY1YyQTBIbkc2S2lhR1NUdTNjQjBQcFRHcTFqR28yWWhZamluTlNERGU1dV9HaS13QTc0WmlDeUF4ai1lYVZVOHNEaExBR1cyVE5mS2VDa1VhSzE4bDJHdDgxWHM2WkJfZy1TOHhlNHdfXzY0VVdkNUV3Q0NRUHd6U01ZeC1Ka3QwbjB6V1RPZWNQRXlEelgxS3VLaXJRMG11UGU4T0dsaHA2OTI4TTRhU0h1bWNPMC1weGc3MEFOQUs2RzB5VEhpaU11bkJrNElWWFlSempfdkNNbnJCT3U2MjNRU1gycnFOLVhXU2lPaHZBV0hCMXpOTDNJNjFhQk9BZVFmZjdvRkRsd09idnkxZXpLVVVOWGFibVBBM0hYZ25vZnVQSlgzdWJuWVc3YTFKT215eWFRSlgweXlvbXg1amVFaU5KMlhOaV95dlU3YWZEbmNURGNyMG5vbVMyeUZNZlNIaHo5a1BkTDF6UXpmdDM4c2tCVXNmX3JCVWpkSDhURmFGbUN6cDdYcVMwM3d5QUtMUEdTMV9yV2xlOHpKZW1hSG5wdHdkQVNHRTlVRGZUYWcwVzAzenNkN1pNb2ppeUljVWJiSkV1STlJR0ZXMnROZE9QNnJTd1JpT1loNHhaal9rdUF4Qnp3UmlRYVl1N1E5Wm5TNnNXUGJod3kwS29tVV91MXM2Q1RRMnNoRUhkbUpBU0lVUDBuNFVDOW42bHFpeWhiX256eXNITlZKSzFQQzVRS1VQaWVfQkhzeEpTM0MwTjRhQWRTd0xNdC1QM3Ezb0trTkdyTmV6c0pVXzJVa3dsY1M4U2ZVWkQ1clNuRE45T05FRWg4OEdydGl6c1lIYUd4Mi1hb0YzZHZkUENrWVkxeWMzZmx0R0lTdmdKbTlHeXdtSHZ3SGtMcnNHMTBQZjh5ZEIta2xjTmFtZmE0Nnc5RUpWeDdNU2xLejNsc2hzU0FzcG5LRVJOMUNkOHIzOTNVQlo3dUw1SUJqNVE0c0VSVnZtQUxXcFNDd0NwWm5ocWl1QUNiNVp5OVhqc0dhWWZkTWl1bk5oZnlLY0JLWG5OZjRfdFVHaTZzWVVrVlpLRXVuZXBpcFZrMURQa3RXM0pnZVBYRFhta2hJWHFZV3dOQVVzNzExMkM5YzJvajBxNUl6WjMtUTFrWmVtb0txZlV0OTgyZVgycEdMMFotM0p1SUJjRFFLaV85bG1sdzNIOHU3OUxEZFlYTzRGbDJ1TXV5b2d4Sk5XSGpCWUEybHVDUDd6NFJnSkZzckxWVl9Hc1F0Zm1UbDB2d0RfS1pqeS1jLTNZOE1PZWJ3SHRmNFdjbG9pbGNJdk4xTU1hSVRNNlNoWEZfOS03Mnl4T19mXzFMTXpWWDZKNXY5OXdNaURzLTBEYjBIUzNyV016OUJyOU5XMFJWYVVlMzl0dlpKM0NDZ2xXTUs4bk5lQTAwell4RVFYUXQ1UEhXb05QS1BMTTRQdmdUUmlfdS1MM3hITVVpLTBLclZrbFJHenlyZVJEYnZMZXpvdWdmWldLeUhDTlpfTnBrMGFCMnhVQUFZY3VzMG9TZGJ1TUFlRmcxcEQxbUxNbFpFZVdCclhMTXlaLVlYbmNoQVZ3RVlWSFk3UEtBLUVvQVQ2WG1nbkZMN2V5alRLcWhHWVR0SGhoOHNzYlJtT1hkaEt5SHAzcVlPYlZ5M1lpeFlZQ3FBPQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "io.codemagic.capybara" --type IOS_APP_DEVELOPMENT
        --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      app_store_connect:
        api_key: Encrypted(Z0FBQUFBQmd3ZVpuRTZUaFoxTkhOeWlkcE4zVGttc3JWTUhZdGhoMEhqY1A5TnJvVkhBVUU4QjA0WnJEeV9adklreDQyS3VEbmlCRVFncF9lSE9zYkNsTVRLN3ZNZjdZNXJHa2c3RFZIeS1tNEVtVWxzVDJ5RkRWaDhpbGstdWVCbmJCX2dsNWlDdnZNZWxseDIwZXpRMjE4bnoxbUlnOFVjWjVCeU10b1R3UDUyVUZQWTBJbHp5aW5UN0xLNUxxREoxcE9Ta0dhZ3piQjVRWnFVaGtrMjBsdlR6VUQwb210QXFkNkVpSGZXa3RaVUd1cGE3TGNOVmxZTUxpdnBsY0RjbjFXM3lyV2Zkd00tbDlRXzZnWU5fMzd3UDBoek1UZ3FnYlpsZ0U0ZDRKZnhRalRwVGxUZzFNZjU5N2hqejNVTVFudEFOLUYtVlBOZ2haUjN6NHpIMkc1b3pPWWpoeTBMZTc0Z0NsNG5CUTdVdGY5UW5JZnRWc0hnR1NBeU5BcU15eC1mWWl0dFJ4TXlieXhvNi1DOGhCaElVdW9hTXQ1MmtfZEwwVXJEeDlSelpnUXFOUURCYz0=)
        key_id: 4X5V82JUU5
        issuer_id: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        submit_to_testflight: true
