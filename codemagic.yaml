
workflows:
  default-workflow:
    name: Default Workflow
    instance_type: mac_mini
    max_build_duration: 60
    environment:
      vars:
        APP_STORE_CONNECT_ISSUER_ID: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        APP_STORE_CONNECT_KEY_IDENTIFIER: 4X5V82JUU5
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3ZVpuRTZUaFoxTkhOeWlkcE4zVGttc3JWTUhZdGhoMEhqY1A5TnJvVkhBVUU4QjA0WnJEeV9adklreDQyS3VEbmlCRVFncF9lSE9zYkNsTVRLN3ZNZjdZNXJHa2c3RFZIeS1tNEVtVWxzVDJ5RkRWaDhpbGstdWVCbmJCX2dsNWlDdnZNZWxseDIwZXpRMjE4bnoxbUlnOFVjWjVCeU10b1R3UDUyVUZQWTBJbHp5aW5UN0xLNUxxREoxcE9Ta0dhZ3piQjVRWnFVaGtrMjBsdlR6VUQwb210QXFkNkVpSGZXa3RaVUd1cGE3TGNOVmxZTUxpdnBsY0RjbjFXM3lyV2Zkd00tbDlRXzZnWU5fMzd3UDBoek1UZ3FnYlpsZ0U0ZDRKZnhRalRwVGxUZzFNZjU5N2hqejNVTVFudEFOLUYtVlBOZ2haUjN6NHpIMkc1b3pPWWpoeTBMZTc0Z0NsNG5CUTdVdGY5UW5JZnRWc0hnR1NBeU5BcU15eC1mWWl0dFJ4TXlieXhvNi1DOGhCaElVdW9hTXQ1MmtfZEwwVXJEeDlSelpnUXFOUURCYz0=)
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmd3ZlRkN1dDcnJCYTZLM3MyRjN3eXVSNERyM0JXWjdFaFFIanQ5Vm9KcXM3cDZ0N0V1ZGIta1BnRnl3RFZ2Ump1NW90cGFCT2Nhc2NrXy11ZjBmUW8zU0M3Q29Oelp2M3FPeGFLNEJudjA3WU9mcGtMVFJSNXY4b28zM3FYS3pTanpWVUx4dzVXb3hIQjNMWDEzSnFfN2hoUTNIbEhoRnN0VkVkNHNLVm1zVVR6b01XeENPdnF3WGRUc3IxSkwtYWt6Tks4c3M1ZFN4b29wc01aX3Jnc1hiRkI5ZWlBQmpvMHNMWld6ZVJobXdBYzk2YW1Kd1V0MmNaSXBIUjdOb1RMVG80REFTQ09jLUhuZmdJUEVNQ0F0Zk5wenNWb1RRVnFjUFI0emJJM21kWmlxR2hNRFVUYmRTaGp5ZkxqdVBNX05CU0RpM1NTUC1CMkE2OVR4UHowdDlPWXYwdVNUaXB6cl83N25fQWY2MUdGZFJJb2Nwa0tVdkJnM09mZ3RwYUVtaW5sXzk4VmliaVF2ZWZRTEdaS0FfbDdqcTlHOW12a3BNcEhRZVhJVjVkNWFQbzZpeXNRbmxNblAtXzJxN1c2NzU5RXZNWEZEbVhTUlYzR0p4bDY4MjJMQ19MMGYxNzdCaUUtd0FnVmRXNmk3SUFjWDdIRHIwWElLcGxHaUttRUFyNjdzMmpyU0YwVUFZZTVWTkNXb3AxbkI3bjlKaHQyd2ZjYkk2Nm44cnFyUWwycXI5Q1lYSTVoalU2ckp5blAxU21vUUg2OWx2U0NaYTQ4QlhDSFNuMEtqa3kxM21HUkU4cGpaenVfZUZWZVgwbFZlaEFRbU5hSERiczJfU3Uxa1oyZ3JTcEMtN3BDMDZkOUgxWUktTW1Cc1FBZHBSMVJJUHdBUUN0TmlObDVlSzN4bG5NMGRLaDBYa1d6ME9sNk5DdlRtRmt2R1ZxOVBQdlJBVFR6VG1GYWVIb2tVRUdBVmo0NWlKRlRGTFZEYjRXX0llekY4dnRkWWFpVVBHVkljcWNGWG1aZ3RTZmswQW1tbFV1UUNhaWY3WkZfeDVVREt6UEFUd2hBZDdKSlFIWVlrZ1BwN1hVaXZlcWN3eVk2eEhZWHpjcnl1Q01uMW1NODZweFZVSWx5VV9MR3ZidG9KUmxCUnJ0OHB2MDV6T3lKUW1xeTdGMHVBel9qUXBnTkxaYzE3M04zZE1kbU15M3dvbFcyWGxQUVh1UWJleVRBVkFYalQ4NHdpVkFYUC1jeFJ4eDhGaWFhOXJyR1hnZDF0THlOM0RjeVVLa1Z6UE8tak9XMjAtWm9SdjU0T29ncEZwU2xsOXJrTnlFUkJpb2FWQ0xiTGhtb1VlYi1tUHVkbVZ1d1NhT2VhUVBhN0RpSDg1bmR0dEFEa2tYRGVwVG1LNWdFeEZNNU5uUWlUUmpzdWgzMVJLMWQ4dXJKOGVNclZnQnZkWXhHSmpralZTcG5SNEZzOXVPMkZyUk5CWS1CbXBtblNZUDY3bUMzLXJudkhIY3NRYlVQd09CcXBDRzd5N3VjVWhjZXJrWGYtZUlxX2drS01Kc3VucGU0ME04ZWtsRV9CVzg4ZkwtdGpwZHVvanpJa3lpbFdYNngwRnRrRUxkVG1wVkJvMjJ5d1Q2eEFyc1EwZVpjU3d6WUdNaXBMODYxME0teVpJV2k1MTZaZVJhUGQyZ1gyTXlROUhzM3JWMFFpalF5aV9OR0ZBVjY2ZGFKRE1FMHg3Slh2WnZDb2JXb3I0ajdoUkhZZXFoR29UMVJQdlRVQXctUFdhaEwyMElhclJYZDZ1YWZlUkRCbE1EQThsMnY4VnRUbV9reThpNkM0V2huQlJ0bTd6UkU5ay1RRWJrZTVVeGo0X1FBbjhDWmRBSDVCV0k0MGpZc0t4ZDBIYjViNlY2UjFqU3YyQUhqY0llSnVUNEkza3JadkZVNkJhejFCSGdFcE9rYklaeEQ5cUthb3I0NkNoX1hHOHlqTWc0V1JHa1dFaWJXdTYzTmMycjNJT2hhM2xfNUNtcWRPeXJockphNVZxWFFwQmVRLWNQWVhOZ2NvRGQ3TmNLNlZNbGJ5YWtlREplUzRGNV9SUlBaOVJXbUl4TG5TQlRtNi1KN3Q5VVBta2RwTjFtSXhMc3FEUGYtMDFEbXJqTGMyV29xNzIzZ0t6WE9zY1RmOF9tVmRXOHFCbk0wX29kbGVSUUtpNEpGMDNIak9lY0NGM2xPRU9HNHNwb0lTa1ItX3FNM19VaG12amtGRHdTYlZ0SGJFWlppV0Z6c3hmRmE3akZPR3hhTlFCcncwNXJFdmFxY1ctdXkzVEhfU3BHb3FpWkJRd2VPMU9xejQ3SEl5WmhMWUdnNS16WXJHZUw1d2YzZWdfa1ZoelR5ZlBOR3BTaVlMVjdONmhvUjc5eE1nSm9DeWVYSzJJbHY2ZlBRdkpaUV9RWG04R0s3dWZQa2Q0ZUhjRXFiNjJLbGllT3c0LWtBTUlxQ1h4QUJ3MGJKc3ZKWmFpaWVoVXJDLXJzYzVaZ3ZBY2lqTlF1N2h4Y09mclhrdjRDaVJIVzROekdlVXJEclZMV0s0UjZsVlhaM3F0SWJGeGFxckgtdE1WWXA2QU5hbnZrSW5BQXgtbXRWZ1dpcklLWnNELVpCS3piOFBySXNmVTVnZUdlbE82WXcwZWtOYnJldzhRQzBlTkFuemNORU5JYmhsdjBRSGI3eDlwcVZYSnpJVW5LbjFGSE0xM1JST2wxek5VZDhhaE1CUUI4eV9PZVFOSzNXejA3cHdLMzV4cnpTX3NpWjdXYXZudlJ2RnhZbW1NTDhjc1I2elBXN3o5ekNjN0wzbnd4ZUJpM2dIdFdaMGhQRXpITGY3YmRRV1VCRzhjSEk3dFZJa1pjcFVXeWxfQmtfWDJaeVg3dnRIbmcyTkw1aE81Y29vcjdsTXluMlE1UzhUSkstT21yM1NGbmZfSVhmYUMwVFBZYl9JMkZCSHJKU1lOR1ItcW9ySktfMUM3ZHBLWDVmRW9YanRLbkthVUVhMlRSTkVRbHpFbHhBbmRmZlBMX21XbGVhR3pONklCcEYwa1NaM2hkVmZOZ19ickQ5ZDNOT1c2X0pJYmlwenNEczVQRDl6OXRlaXhlWFAzaUZXamFMeF9vUkNGMlA0bk5PZG80MDg0bW1SRFpzMG03NmF5MjBHRUVISmI1Xy0wTXYyT21XNmhxQmRuNFY5NnNjdDJpQlVlRjZpUVBiWUFna3JXX2VOeDNXVWF2b1EwLU0xTnY1aFd0LW1mWVF1M2dTdzFFeThrelg4ejZuX2Njb09BeU1RQk1jOUV2d3JWemtzX1ExS3ZPOEJhY1FRb1p3THpQS3ZIX1pLejBiU2YzeGhUMWI3SHZ4UDFVUkI3Z1FKV3RzVFBHTURDcWpOMFZPVFd0cW1NOVRuTWlsc2Zpa0R2RDJvWl93OTNCX0dUeUJ5N21ITlFJTGJsY3NnNkxnOXRIdm4tMGNQbk5EUnczeGxYUEd5QXhOYm9aZDZmUllMUElSQ3Bwd1QwNHRKYjhZZmpiVEJYQXdTTlRrZ1FaRjF2ZEdzY2RjME4xZzdERmhFcFplSzBVWjVtSUE2ajFLbHhWM2dRd1RGRzZBQXk2TmpiVVpsRkVWZWdVeEw0WHpvaEtTaTg5ZC1ldHJaQ1l4b196ZDBveWNGUXAwalZQdkpXUjBzWXI5eWdVSTZoaXdtS3B2QzlKeFJWZ1lQZG9CRUMxT25lZFBVRURuQWRKRk91TklxUGxkZ3NCUDlNVkoxZ1hVWGdKR0FJRTdTcVNPNTJkTkhKdXVGNXJrNEpTZHc4MWlzUndVYkNTdUNmS0U1QTE0OW1vbTFMb0JzTW11SnpRc2lEMDlKSDdkZFhqcm1OTDZFM0w3Zmp1cGxfdFQ1ay1rTXBtMkk1N3pjLTIyeWd1cWlFamNHNE5WX3VMYVQxcDI0dm55bEhac094eU54cS12b1lIam9wcjVXdmFmb3NMd2JRaUlCbldUWFotNnZfU0hFWGVFLVg5QXhWVVVickk4R1VBSzdZRVdSS3NCU3RBVHdEN1lqcDNGVUZZPQ==)
      flutter: stable
      xcode: latest
      cocoapods: default
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "io.codemagic.capybara" --type IOS_APP_DEVELOPMENT
        --create
      - keychain add-certificates
      - xcode-project use-profiles
      - flutter build ipa --export-options-plist=/Users/builder/export_options.plist
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      app_store_connect:
        api_key: Encrypted(Z0FBQUFBQmd3ZVpuRTZUaFoxTkhOeWlkcE4zVGttc3JWTUhZdGhoMEhqY1A5TnJvVkhBVUU4QjA0WnJEeV9adklreDQyS3VEbmlCRVFncF9lSE9zYkNsTVRLN3ZNZjdZNXJHa2c3RFZIeS1tNEVtVWxzVDJ5RkRWaDhpbGstdWVCbmJCX2dsNWlDdnZNZWxseDIwZXpRMjE4bnoxbUlnOFVjWjVCeU10b1R3UDUyVUZQWTBJbHp5aW5UN0xLNUxxREoxcE9Ta0dhZ3piQjVRWnFVaGtrMjBsdlR6VUQwb210QXFkNkVpSGZXa3RaVUd1cGE3TGNOVmxZTUxpdnBsY0RjbjFXM3lyV2Zkd00tbDlRXzZnWU5fMzd3UDBoek1UZ3FnYlpsZ0U0ZDRKZnhRalRwVGxUZzFNZjU5N2hqejNVTVFudEFOLUYtVlBOZ2haUjN6NHpIMkc1b3pPWWpoeTBMZTc0Z0NsNG5CUTdVdGY5UW5JZnRWc0hnR1NBeU5BcU15eC1mWWl0dFJ4TXlieXhvNi1DOGhCaElVdW9hTXQ1MmtfZEwwVXJEeDlSelpnUXFOUURCYz0=)
        key_id: 4X5V82JUU5
        issuer_id: 7d812fe2-8abd-47ca-9d27-3ed7e62d7b6d
        submit_to_testflight: true
